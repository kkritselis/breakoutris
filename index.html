<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <!-- iOS full-screen mode meta tags -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Breakoutris">
    <meta name="theme-color" content="#000000">
    
    <!-- Home screen icon for iOS -->
    <link rel="apple-touch-icon" href="logo.png">
    
    <title>Breakoutris</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-9XHQWB6B3E"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-9XHQWB6B3E');
    </script>
    
    <!-- iOS full-screen script -->
    <script>
      // When loaded from home screen icon, iOS will open in full-screen mode
      // This script helps with orientation and sizing
      window.addEventListener('load', function() {
        // Attempt to scroll to hide any browser UI on iOS
        setTimeout(function() {
          window.scrollTo(0, 1);
        }, 0);
      });
    </script>
</head>
<body><a target="_blank" href="https://jam.pieter.com" class="jam-link">üïπÔ∏è Vibe Jam 2025</a>
    <a target="_blank" href="https://store.steampowered.com/app/3214080/Scramble_Up/" class="steam-link">üéÆ wishlist my non-vibe coded game on Steam</a>
    <div class="game-wrapper">
        <button id="sound-toggle" class="control-button">
            <span id="sound-icon">üîä</span>
        </button>
        <img src="logo.png" alt="Breakoutris" class="game-logo">
        
        <div class="game-area">
            <div class="canvas-container">
                <!-- p5.js will inject the canvas here -->
                
                <!-- Start screen overlay -->
                <div id="start-screen" class="start-screen">
                    <div class="start-screen-content">
                        <h2 class="desktop-instructions">How to Play</h2>
                        <h2 class="mobile-instructions">You know what to do, who can survive the longest?</h2>
                        <div class="instructions">
                            <div class="desktop-instructions">
                                <p>Mouse controls paddle.</p>
                                <p>WASD controls falling pieces.</p>
                            </div>
                            <div class="mobile-instructions">
                                <p>Use buttons on sides to control paddle and falling pieces.</p>
                            </div>
                        </div>
                        <button id="start-game-btn" class="start-game-btn">Start Game</button>
                    </div>
                </div>
                
                <!-- Game over screen overlay -->
                <div id="game-over-screen" class="start-screen">
                    <div class="start-screen-content">
                        <h2>Game Over</h2>
                        <div id="game-results">
                            <p id="winner-message"></p>
                        </div>
                        <div class="game-over-controls">
                            <button id="game-over-new-game" class="start-game-btn">New Game</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Mobile controls - positioned absolutely around the canvas -->
            <div class="mobile-controls">
                <!-- Tetris controls - top of the screen -->
                <button id="tetris-left" class="control-button tetris-left">‚Üê</button>
                <button id="tetris-right" class="control-button tetris-right">‚Üí</button>
                <button id="tetris-rotate" class="control-button tetris-rotate">‚Üª</button>
                <button id="tetris-down" class="control-button tetris-down">‚Üì</button>

                <!-- Paddle controls - bottom of the screen -->
                <button id="paddle-left" class="control-button paddle-left">‚Üê</button>
                <button id="paddle-right" class="control-button paddle-right">‚Üí</button>
            </div>
        </div>
        
        <!-- Hidden element to track balls remaining for JavaScript -->
        <div id="balls-remaining" style="display: none;">5</div>
        
        <button id="new-game">New Game</button>
    </div>

    <!-- Audio elements for game sounds -->
    <audio id="sound-paddle" src="sounds/paddle.wav" preload="auto"></audio>
    <audio id="sound-block" src="sounds/block.wav" preload="auto"></audio>
    <audio id="sound-tetris" src="sounds/tetris.wav" preload="auto"></audio>
    <audio id="sound-gameover" src="sounds/gameover.wav" preload="auto"></audio>
    <audio id="sound-ball-lost" src="sounds/ball-lost.wav" preload="auto"></audio>
    <audio id="sound-start" src="sounds/start.ogg" preload="auto"></audio>
    
    <script src="game.js"></script>
</body>
</html> 